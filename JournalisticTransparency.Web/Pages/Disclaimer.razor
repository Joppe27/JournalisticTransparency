@page "/disclaimer"
@inject NavigationManager NavigationManager

<PageTitle>Info expirement</PageTitle>

<Layout Flex="Flex.AlignItems.Start">
    <LayoutHeader Style="position: sticky" Width="Width.Is100">
        <Div Flex="Flex.AlignItems.Center">
            <Figure Style="width:250px" Margin="Margin.Is0">
                <FigureImage Source="Resources/vub_rgb.png" Style="display:block" Margin="Margin.Is0"/>
            </Figure>
            <DisplayHeading TextSize="TextSize.Heading1.OnDesktop.Heading6.OnMobile" TextOverflow="TextOverflow.NoWrap" Margin="Margin.Is3.OnX.Is0.FromBottom">Experiment journalistiek vertrouwen</DisplayHeading>
        </Div>
        <Divider/>
    </LayoutHeader>
    <LayoutContent Padding="Padding.Is5" Flex="Flex.AlignSelf.Center" Width="Width.Is66.OnDesktop.Is100.OnMobile">
        <Lead>
            Lead.
        </Lead>
        <Paragraph>
            Paragraph 1.
        </Paragraph>
        <Paragraph>
            Paragraph 2.
        </Paragraph>
        <Paragraph>
            Paragraph 3.
        </Paragraph>
        <Alert Color="Color.Info"  @ref="_conditionsAlert">
            <AlertMessage>
                U moet akkoord gaan met de voorwaarden om te kunnen beginnen.
            </AlertMessage>
            <CloseButton/>
        </Alert>
        <Div Flex="Flex.JustifyContent.End">
            <Check TValue="bool" @bind-Checked="_agreedConditions">Ik ga akkoord</Check>
            <Button Color="Color.Primary" Clicked="@StartButton" Loading="@_isLoading">
                Naar het artikel
            </Button>
        </Div>
    </LayoutContent>
    <LayoutFooter Fixed Width="Width.Is100">
        <Divider/>
        <Text Style="display: block" Margin="Margin.Is5.OnAll" >
            Contactinformatie enz.
        </Text>
    </LayoutFooter>
</Layout>

@code {
    private bool _isLoading;
    private bool _agreedConditions;
    
    private Alert _conditionsAlert = null!;

    private void StartButton()
    {
        if (!_agreedConditions)
        {
            _conditionsAlert.Show();
            return;
        }
        
        _isLoading = true;
        
        NavigationManager.NavigateTo("/article");
    }
}

